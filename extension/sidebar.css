/* ═══════════════════════════════════════════
   Outreach — Design System
   Injected into LinkedIn pages
   ═══════════════════════════════════════════ */

/* ── Animations ── */
@keyframes fadeIn { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }
@keyframes spin { to { transform: rotate(360deg); } }
@keyframes shake { 0%,100%{transform:translateX(0)} 20%,60%{transform:translateX(-4px)} 40%,80%{transform:translateX(4px)} }
@keyframes slideIn { from { transform: translateX(100%); } to { transform: translateX(0); } }
@keyframes pulse { 0%,100%{opacity:1} 50%{opacity:.5} }

.shake { animation: shake 0.4s ease; }

/* ── Spinner ── */
.outreach-spinner {
  width: 28px; height: 28px;
  border: 3px solid #e0e0e0; border-top-color: #0a66c2;
  border-radius: 50%; margin: 0 auto 10px;
  animation: spin 0.8s linear infinite;
}
.outreach-spinner-small {
  display: inline-block; width: 14px; height: 14px;
  border: 2px solid rgba(255,255,255,.3); border-top-color: #fff;
  border-radius: 50%; animation: spin 0.6s linear infinite;
  vertical-align: middle; margin-right: 4px;
}

/* ═══════════════════════════════════════════
   SIDEBAR (Profile pages)
   ═══════════════════════════════════════════ */

#outreach-sidebar {
  position: fixed; top: 0; right: 0;
  width: 320px; height: 100vh;
  background: #fafbfc;
  border-left: 1px solid #e4e7eb;
  box-shadow: -4px 0 24px rgba(0,0,0,.06);
  z-index: 99999;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  font-size: 13px; color: #1a1a1a;
  overflow-y: auto; overflow-x: hidden;
  animation: slideIn 0.3s ease;
  transition: transform 0.3s cubic-bezier(.4,0,.2,1);
}

#outreach-sidebar.collapsed { transform: translateX(280px); }
#outreach-sidebar.collapsed .outreach-sidebar-header { writing-mode: vertical-rl; text-orientation: mixed; }

/* Scrollbar */
#outreach-sidebar::-webkit-scrollbar { width: 4px; }
#outreach-sidebar::-webkit-scrollbar-track { background: transparent; }
#outreach-sidebar::-webkit-scrollbar-thumb { background: #ccc; border-radius: 2px; }

/* ── Header ── */
.outreach-sidebar-header {
  display: flex; justify-content: space-between; align-items: center;
  padding: 12px 16px;
  background: linear-gradient(135deg, #0a66c2 0%, #004182 100%);
  color: white; font-weight: 600; font-size: 14px;
  position: sticky; top: 0; z-index: 10;
}
.outreach-logo { display: flex; align-items: center; gap: 6px; }
#outreach-toggle {
  background: rgba(255,255,255,.12); border: none; color: white;
  cursor: pointer; font-size: 13px; padding: 4px 8px; border-radius: 6px;
  transition: background .15s;
}
#outreach-toggle:hover { background: rgba(255,255,255,.25); }

/* ── Content ── */
#outreach-content { padding: 14px; }

.outreach-center-msg { text-align: center; padding: 36px 16px; color: #888; font-size: 13px; }
.outreach-center-msg p { margin: 0; }

/* ── Profile Card ── */
.outreach-profile-card {
  padding: 12px 14px; margin-bottom: 12px;
  background: white; border-radius: 10px;
  border: 1px solid #e8ecf0;
  animation: fadeIn 0.3s ease;
}
.outreach-profile-name { font-size: 16px; font-weight: 700; color: #111; margin-bottom: 2px; }
.outreach-profile-subtitle { font-size: 12px; color: #666; line-height: 1.4; }

/* ── Pipeline Visualizer ── */
.outreach-pipeline {
  display: flex; align-items: center;
  padding: 10px 8px; margin-bottom: 14px;
  background: white; border-radius: 10px;
  border: 1px solid #e8ecf0;
  overflow-x: auto; gap: 0;
}
.outreach-pipe-step {
  display: flex; flex-direction: column; align-items: center;
  min-width: 42px; position: relative;
}
.pipe-dot {
  width: 10px; height: 10px; border-radius: 50%;
  background: #dde1e6; border: 2px solid #dde1e6;
  transition: all .2s;
}
.pipe-label {
  font-size: 9px; color: #aaa; margin-top: 4px;
  text-align: center; font-weight: 500;
  white-space: nowrap;
}
.outreach-pipe-line {
  flex: 1; height: 2px; min-width: 8px;
  background: #dde1e6; margin: 0 -2px;
  align-self: flex-start; margin-top: 6px;
}
.outreach-pipe-step.passed .pipe-dot { background: #0a66c2; border-color: #0a66c2; }
.outreach-pipe-step.passed .pipe-label { color: #0a66c2; }
.outreach-pipe-step.passed + .outreach-pipe-line { background: #0a66c2; }
.outreach-pipe-step.active .pipe-dot {
  background: white; border-color: #0a66c2;
  box-shadow: 0 0 0 3px rgba(10,102,194,.2);
}
.outreach-pipe-step.active .pipe-label { color: #0a66c2; font-weight: 700; }

/* ── Sections ── */
.outreach-section {
  margin-bottom: 14px;
  background: white; border-radius: 10px;
  border: 1px solid #e8ecf0;
  padding: 12px;
  animation: fadeIn 0.3s ease 0.1s both;
}
.outreach-section-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
.outreach-label { font-size: 11px; text-transform: uppercase; letter-spacing: .5px; color: #888; font-weight: 700; }
.outreach-task-count {
  display: inline-flex; align-items: center; justify-content: center;
  min-width: 20px; height: 20px; padding: 0 6px;
  background: #0a66c2; color: white;
  border-radius: 10px; font-size: 11px; font-weight: 700;
}

/* ── Tasks List ── */
.outreach-tasks-list { max-height: 200px; overflow-y: auto; margin-bottom: 8px; }
.outreach-task {
  display: flex; align-items: center; gap: 6px;
  padding: 7px 8px; border-radius: 6px; margin-bottom: 3px;
  background: #f7f8fa; transition: background .15s;
}
.outreach-task:hover { background: #eef1f5; }
.outreach-task.overdue { background: #fff5f5; border-left: 3px solid #ff4444; }
.outreach-task.done { opacity: .55; }
.task-toggle {
  background: none; border: none; cursor: pointer;
  font-size: 13px; padding: 0; flex-shrink: 0; line-height: 1;
  transition: transform .15s;
}
.task-toggle:hover { transform: scale(1.25); }
.task-text { flex: 1; font-weight: 500; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; font-size: 12px; }
.strikethrough { text-decoration: line-through; color: #aaa; }
.task-date { font-size: 10px; color: #999; flex-shrink: 0; }
.text-red { color: #e53935 !important; font-weight: 600; }
.outreach-empty { text-align: center; padding: 12px; font-size: 12px; color: #bbb; }

/* ── Quick Task Presets ── */
.outreach-presets {
  display: flex; flex-wrap: wrap; gap: 4px; margin-bottom: 8px;
}
.outreach-preset-chip {
  padding: 4px 10px; border: 1px solid #e0e3e8; border-radius: 14px;
  background: white; font-size: 11px; color: #555;
  cursor: pointer; transition: all .15s; white-space: nowrap;
  font-family: inherit;
}
.outreach-preset-chip:hover { background: #0a66c2; color: white; border-color: #0a66c2; }

/* ── Add Task Form ── */
.outreach-add-task-form { }
.outreach-add-task-row { display: flex; gap: 4px; align-items: center; }
.outreach-task-input {
  flex: 1; min-width: 0;
  padding: 6px 10px; border: 1.5px solid #dde1e6; border-radius: 6px;
  font-size: 12px; font-family: inherit; outline: none;
  transition: border-color .2s; box-sizing: border-box;
}
.outreach-task-input:focus { border-color: #0a66c2; box-shadow: 0 0 0 2px rgba(10,102,194,.1); }
.outreach-task-date {
  width: 105px; padding: 6px 6px;
  border: 1.5px solid #dde1e6; border-radius: 6px;
  font-size: 11px; font-family: inherit; outline: none;
}
.outreach-task-date:focus { border-color: #0a66c2; }
.outreach-btn-add {
  width: 32px; height: 32px; flex-shrink: 0;
  display: flex; align-items: center; justify-content: center;
  background: #0a66c2; color: white; border: none; border-radius: 6px;
  font-size: 18px; font-weight: 700; cursor: pointer; transition: background .15s;
}
.outreach-btn-add:hover { background: #0857a6; }
.outreach-btn-add:disabled { opacity: .5; cursor: not-allowed; }

/* ── Action Buttons ── */
.outreach-actions { display: flex; flex-direction: column; gap: 6px; }
.outreach-action-btn {
  display: flex; align-items: center; gap: 8px;
  padding: 10px 12px; border: none; border-radius: 8px;
  font-size: 13px; font-weight: 600; cursor: pointer;
  transition: all .15s ease; text-align: left;
  font-family: inherit; position: relative;
}
.outreach-action-btn:hover:not([disabled]) { transform: translateY(-1px); box-shadow: 0 3px 10px rgba(0,0,0,.1); }
.outreach-action-btn.passed { opacity: .4; cursor: default; }
.outreach-action-btn.next-action { box-shadow: 0 0 0 2px rgba(10,102,194,.3); }
.check-mark { margin-left: auto; font-size: 12px; opacity: .6; }
.next-badge {
  margin-left: auto; padding: 1px 6px;
  background: rgba(10,102,194,.15); color: #0a66c2;
  border-radius: 4px; font-size: 9px; font-weight: 800; letter-spacing: .5px;
}

.outreach-btn-invite { background: #e3f2fd; color: #1565c0; }
.outreach-btn-connected { background: #e8f5e9; color: #2e7d32; }
.outreach-btn-message { background: #fff3e0; color: #e65100; }
.outreach-btn-reply { background: #f3e5f5; color: #7b1fa2; }
.outreach-btn-meeting { background: #fce4ec; color: #c62828; }

.outreach-btn-invite:hover:not([disabled]) { background: #bbdefb; }
.outreach-btn-connected:hover:not([disabled]) { background: #c8e6c9; }
.outreach-btn-message:hover:not([disabled]) { background: #ffe0b2; }
.outreach-btn-reply:hover:not([disabled]) { background: #e1bee7; }
.outreach-btn-meeting:hover:not([disabled]) { background: #f8bbd0; }

/* ── Toast ── */
#outreach-toast {
  position: fixed; bottom: 20px; right: 340px; z-index: 100001;
  padding: 10px 20px; border-radius: 10px; font-size: 13px; font-weight: 600;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  box-shadow: 0 6px 24px rgba(0,0,0,.12);
  transform: translateY(20px); opacity: 0;
  transition: all 0.3s cubic-bezier(.4,0,.2,1);
  pointer-events: none;
}
#outreach-toast.show { transform: translateY(0); opacity: 1; }
.outreach-toast-success { background: #e8f5e9; color: #1b5e20; border: 1px solid #a5d6a7; }
.outreach-toast-error { background: #ffebee; color: #b71c1c; border: 1px solid #ef9a9a; }

/* ═══════════════════════════════════════════
   CONNECTIONS SCANNER PANEL
   ═══════════════════════════════════════════ */

#outreach-connections-panel {
  position: fixed; top: 70px; right: 20px;
  width: 360px;
  background: #fff; border-radius: 14px;
  box-shadow: 0 12px 48px rgba(0,0,0,.12), 0 0 0 1px rgba(0,0,0,.04);
  z-index: 99999;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  font-size: 14px; color: #1a1a1a;
  overflow: hidden;
  animation: fadeIn 0.3s ease;
}

.conn-header {
  display: flex; justify-content: space-between; align-items: center;
  padding: 14px 18px;
  background: linear-gradient(135deg, #0a66c2 0%, #004182 100%);
  color: white; font-weight: 700; font-size: 14px;
}
.conn-header-title { display: flex; align-items: center; gap: 8px; }
.conn-close {
  background: rgba(255,255,255,.12); border: none; color: white;
  font-size: 14px; cursor: pointer; padding: 4px 8px; border-radius: 6px;
  transition: background .15s;
}
.conn-close:hover { background: rgba(255,255,255,.25); }

.conn-body { padding: 18px; }

/* Stats row */
.conn-stats { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; margin-bottom: 14px; }
.conn-stat {
  text-align: center; padding: 10px 6px;
  background: #f5f7fa; border-radius: 10px;
}
.conn-stat-value { font-size: 20px; font-weight: 800; color: #0a66c2; }
.conn-stat-label { font-size: 10px; color: #888; text-transform: uppercase; letter-spacing: .3px; margin-top: 2px; }

/* Progress */
.conn-progress-wrap { margin-bottom: 14px; }
.conn-progress-text { display: flex; justify-content: space-between; font-size: 11px; color: #888; margin-bottom: 4px; }
.conn-progress-bar {
  width: 100%; height: 6px; background: #eaedf0; border-radius: 3px; overflow: hidden;
}
.conn-progress-fill {
  height: 100%; background: linear-gradient(90deg, #0a66c2, #00b4d8);
  border-radius: 3px; transition: width .4s ease; width: 0;
}

/* Status text */
.conn-status { font-size: 13px; color: #555; margin-bottom: 14px; min-height: 20px; }
.conn-status-scanning { color: #0a66c2; animation: pulse 1.5s infinite; }

/* Buttons */
.conn-btn {
  width: 100%; padding: 12px; border: none; border-radius: 10px;
  font-size: 14px; font-weight: 700; cursor: pointer;
  transition: all .15s; font-family: inherit;
}
.conn-btn:disabled { opacity: .5; cursor: not-allowed; }
.conn-btn-primary { background: #0a66c2; color: white; }
.conn-btn-primary:hover:not(:disabled) { background: #0857a6; transform: translateY(-1px); box-shadow: 0 4px 12px rgba(10,102,194,.3); }
.conn-btn-danger { background: #ff5252; color: white; }
.conn-btn-danger:hover:not(:disabled) { background: #e04545; }
.conn-btn-success { background: #2e7d32; color: white; }

/* Log */
.conn-log {
  max-height: 100px; overflow-y: auto; margin-top: 12px;
  padding: 10px; background: #f9fafb; border-radius: 8px;
  font-size: 11px; color: #777; line-height: 1.7;
  border: 1px solid #eee;
}
.conn-log::-webkit-scrollbar { width: 3px; }
.conn-log::-webkit-scrollbar-thumb { background: #ccc; border-radius: 2px; }

/* Minimized state */
.conn-minimized .conn-body { display: none; }
